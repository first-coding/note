- **计算机架构**：整个计算机系统的结构和组织方式，包括中央处理器（CPU）、内存、输入输出设备以及它们之间的连接方式和通信协议。计算机架构关注的是整个计算机系统的设计和组织，包括硬件和系统软件层面。
	- **计算机系统的组成和设计由多个子系统和架构组成**：下面是关键的架构（还有许多其他重要的架构，但几乎都是以下架构的子集）
		- **CPU架构**：定义了中央处理器（CPU）的设计、指令集和内部结构。
			- **RISC架构（与计算机架构中的RISC架构类似）**：CPU的设计遵循了RISC的设计哲学，即采用精简的指令集，每个指令的功能相对简单，但执行速度较快。RISC架构的CPU通常采用流水线技术，能够在一个时钟周期内执行一个阶段的操作，从而提高指令的执行效率。
				- **ARM架构**：ARM是一种广泛应用于移动设备、嵌入式系统和服务器的RISC架构。它的特点包括低功耗、高性能和可伸缩性。ARM架构具有多个不同的版本，包括ARMv7、ARMv8-A（64位架构）、ARMv8-M（用于嵌入式系统）等。
				- **MIPS架构**：MIPS是一种用于嵌入式系统、网络设备和工作站的RISC架构。它的特点包括简洁的指令集和高效的流水线结构。MIPS架构广泛用于无线路由器、数字电视和其他嵌入式设备。
				- **SPARC架构**：SPARC是由Sun Microsystems（现在是Oracle公司的一部分）开发的RISC架构，主要用于服务器和工作站。SPARC架构具有可伸缩性和高度并行处理的特点，适用于高性能计算领域。
				- **Power架构**：Power架构最初由IBM开发，现在被用于各种用途，包括服务器、超级计算机和嵌入式系统。IBM的Power处理器是最著名的Power架构实现。
				- **RISC-V架构**：RISC-V是一个开源的RISC架构，具有简单而灵活的指令集。它可以根据具体需求定制，适用于各种应用领域，从嵌入式系统到超级计算机。
			- **CISC架构（和计算机架构中的CISC架构类似）**：
				- **x86**：x86架构是最著名和广泛使用的CISC架构，最初由Intel开发。x86架构的特点包括复杂的指令集，用于个人计算机和服务器。x86架构包括32位和64位版本，分别用于传统的个人计算机和现代服务器系统。
					- x86（32位）：即x86架构
					- x86-64（64位）：这是x86架构的64位扩展，也被称为AMD64。它扩展了x86架构的内存寻址能力，允许处理更大的内存空间。现代个人计算机和服务器普遍采用x86-64架构。
				- **IA-64架构**：IA-64是由Intel和HP（Hewlett-Packard）合作开发的64位CISC架构，主要用于高性能计算领域。然而，由于缺乏广泛的软件支持，IA-64处理器在市场上并没有取得很大成功。
				- **VAX架构**：VAX（Virtual Address eXtension）是Digital Equipment Corporation（DEC）开发的CISC架构，广泛用于大型计算机系统。VAX处理器拥有非常庞大和复杂的指令集，用于高性能计算和企业级应用。
				- **IBM System/360和z/Architecture**:这是IBM的大型计算机系列，采用了CISC架构。它包括了多个不同型号的处理器，用于高性能计算和企业级应用，特别是主frames（主机）
				- **Motorola 68k系列**：这是Motorola公司开发的一系列CISC架构处理器，曾广泛用于个人计算机、工作站和嵌入式系统。
		- **存储架构**：包括内存（RAM）和各种存储设备（硬盘、固态硬盘等）的组织结构和数据读写方式。
		- **系统总线架构**：定义了计算机内部各组件（如CPU、内存、I/O设备）之间的数据传输和通信方式。
		- **输入输出架构**：定义了计算机系统与外部设备（如键盘、鼠标、显示器、打印机等）之间的通信和数据传输方式。
		- **网络架构**：定义了计算机网络中的网络协议、数据传输方式和网络拓扑结构。
		- **并行计算架构**：定义了多处理器系统中任务分配、数据同步和通信方式，以实现并行计算。
		- **分布式系统架构**：定义了分布式计算环境中各节点之间的通信和协作方式。
		- **虚拟化架构**：定义了虚拟机的创建、管理和操作方式，支持在单个物理计算机上运行多个虚拟操作系统。
	- **计算机架构有多种**：
		- **冯.诺伊曼架构**：现代计算机的基本架构。它包括中央处理器、内存、输入输出设备和数据通路。程序和数据都存储在内存中，中央处理器通过总线从内存中读取指令并执行。
		- **哈佛架构**：程序和数据存储在不同的内存系统中。这种架构常用于嵌入式系统和数字信号处理器（DSP）中。
		- **RISC架构**：RISC架构具有精简的指令集，每条指令的功能相对简单，但执行速度快。它通常采用流水线技术，提高了指令执行的效率。
		- **CISC架构**：CISC架构具有复杂的指令集，每条指令可以执行多个操作。
		- **VLIW架构**：每个指令包含多个操作，这些操作可以并行执行。处理器硬件负责确定指令的并行执行顺序。这种架构常用于高性能计算和信号处理领域。
		- **SIMD架构**：一条指令可以同时操作多个数据元素。这种架构常用于需要大规模数据并行处理的应用，如图形处理器（GPU）和多媒体处理器。
		- **NUMA架构**：系统内有多个处理器和内存模块，每个处理器可以直接访问特定的内存模块。这种架构常用于大型服务器和高性能计算集群。
			- **CC-NUMA架构**：这是NUMA架构的一种扩展，它保持了多个处理器之间的缓存一致性，提供了更好的性能。
- **不同架构有不同指令集和寄存器，架构里面有自带的指令集和寄存器。一个指令集里面有不同指令和寄存器，MMX，SSE等这些是拓展指令集，cpu芯片开发商会根据拓展指令集对应增加一些寄存器。**
- **在x86架构的处理器中，有不同的操作模式，它们决定了处理器在执行指令时使用的寄存器宽度和寻址模式。这些模式包括实模式（Real Mode）、保护模式（Protected Mode）和长模式（Long Mode）**
	- **实模式（Real Mode）：** 实模式是x86处理器最早期的模式，它使用16位的寄存器和16位的地址总线。在实模式下，处理器可以直接访问1MB的内存空间。实模式的限制包括只能使用16位寄存器和地址，无法访问大于1MB的内存，缺乏内存保护和多任务支持。
	- **保护模式（Protected Mode）：** 保护模式是x86处理器引入的一种高级模式，它使用32位的寄存器和支持分段和分页机制。在保护模式下，处理器可以访问4GB的内存空间，提供了内存保护、多任务支持、虚拟内存等高级特性。保护模式是现代操作系统（如Windows、Linux）的运行模式。
	- **长模式（Long Mode）：** 长模式是x86-64架构引入的一种模式，它是在保护模式的基础上扩展而来，支持64位的寄存器和64位的地址总线。在长模式下，处理器可以访问非常大的内存空间（18.4 million TB），并且可以处理64位的数据，提供更大的数据寻址范围和更高的性能。
	- **这些模式的选择由操作系统和应用程序来控制。通常，当运行在64位操作系统上时，处理器会处于长模式下。当运行在32位操作系统上时，处理器会处于保护模式下。实模式通常用于启动计算机时的初始化和引导操作系统。操作系统的内核（kernel）会在合适的时候切换到适当的模式以提供所需的功能和性能。**
- **寄存器**：
	- **通用寄存器（在16位寄存器开头加个r即64位的，加e的32位的）**：多少位是指能存多大的数。位数越多，能存的数越大。
		- **8位**：
			- **AL**：累加器，用于算术和逻辑操作
			- **BL**：基址寄存器，存储内存地址
			- **CL**：计数器，循环计数器
			- **DL**：数据寄存器，保存外设控制器的端口号地址
			- **AH，BH，CH，DH**：高8位的寄存器，与低8位寄存器构成16位对应的寄存器。
			- **为了处理特定类型操作，8位还有拓展寄存器，在8位中不属于通用寄存器，但是在高位上属于通用寄存器。**
				- **SIL**：存储8位源数据的偏移地址，通常在字符串操作等中用于指定源数据的偏移。
				- **DIL**：存储8位目标数据的偏移地址，通常在字符串操作等中用于指定目标数据的偏移。
				- **BPL**：用作16位BP的低8位，在某些特殊栈操作可用上
				- **SPL**：用作16位SP的低8位，某些特殊栈操作可用上
		- **16位**：以下寄存器作用与8位差不多，只不过能存的数更大了而已
			- **AX，BX，CX，DX，SI，DI，BP，SP**：BP指可以运用段基址：偏移地址一样访问栈，SP指向栈顶。
		- **64位的增加了R8-15的通用寄存器**：其他32，16，8位的为了更灵活处理数据也增加了对应的R8-15的通用寄存器（32位的是在8-15数字后面加了D，16位加了W，8位加了L或者B）
	- **指令指针寄存器**：只有唯一的一个，在不同运行模式下名字不一样，**它存储下一条将要被执行的指令的地址**
		- **实模式（16位模式）：IP**
		- **保护模式（32位模式）：EIP**
		- **长模式（64位模式）：RIP**。
	- **标志寄存器**：只有唯一的一个，在不同运行模式下名字不一样，**存储了处理器的状态信息，每个位标识不同标志位（即每一位代表一个标志）**
		- **实模式（16位模式）：FLAGS**
		- **保护模式（32位模式）：EFLAGS**
		- **长模式（64位模式）：RFLAGS**。
		- 32位，每一位标志如下：
			- **Bit0（CF）-进位标志**：用于指示无符号数加法操作的进位或借位
			- **Bit2（PF）-奇偶标志**：用于指示结果中的一位数是否为偶数
			- **Bit4（AF）-辅助进位标志**：用于BCD（二进制编码的十进制数）运算的进位
			- **Bit6（ZF）-零标志**：操作结果为零，ZF设置为1
			- **Bit7（SF）-符号标志**：如果操作结果为负数，SF设置为1
			- **Bit8（TF）-单步调试标志**：用于启用单步调试模式，TF设置为1，处理器逐条执行指令。
			- **Bit9（IF）-中断允许标志**：用于控制外部中断请求的响应。当IF被设置为1时，处理器会响应外部中断请求。
			- **Bit10（DF）-方向标志**：用于指示字符串操作的方向。如果DF被设置为1，字符串操作将从高地址向低地址方向进行。
			- **BIt12-13（IOPL）-I/O特权级别**：用于表示当前代码的I/O特权级别，限定任务对I/O操作的权限。
			- **Bit14（NT）-嵌套任务标志**：用于支持嵌套任务（Nested Task）操作系统特性。当NT被设置为1时，表示当前任务是一个嵌套任务。
			- **Bit16（RF）-保留**：保留位，未使用。
			- **Bit17（VM）-虚拟8086模式**：用于指示处理器是否在虚拟8086模式下运行。
			- **Bit18（AC）-对齐检查**：用于指示处理器在执行字符串操作时是否执行字节对齐检查。
			- **Bit19（VIF）-虚拟中断标志**：用于虚拟处理器的虚拟中断处理。
			- **Bit20（VIP）-虚拟中断处理程序**：用于虚拟处理器的虚拟中断处理。
			- **Bit21（ID）-禁用CPU ID指令标志**：当ID标志被设置为1时，处理器支持CPUID指令。
			- **Bit21-31之后都是保留位。**
	- **FPU（浮点计算单元）**：FPU在较旧的电脑上是单独的一个单元。在现代的CPU中FPU都是集成在CPU内部。
		- **FPU数据寄存器（80位（双精度浮点数（64位）更高的精度。））**：寄存器st0-7，可以存储浮点数值，st0为栈顶寄存器，st7是栈底寄存器。FPU指令涉及寄存器之间的移动和操作。
		- **FPU控制寄存器（16位）**：**寄存器fctrl**，包含了FPU运算的控制信息，例如舍入方式、精度等。
			- **Bits 0-5（Rounding Control, RC）：** 这些位用于控制舍入模式。它们决定了浮点数运算结果的舍入方式，例如向下舍入、向上舍入、向零舍入等。不同的数学运算可能需要不同的舍入方式。
				- 000: 舍入到最接近的偶数（默认舍入方式）
				- 001: 向零舍入
				- 010: 向下舍入
				- 011: 向上舍入
				- 100: 向最接近的偶数舍入，但是如果两个偶数距离相等，则选择结果为正的那个偶数
				- 111: 不舍入，直接截断小数部分
			- **Bit 8（Precision Control, PC）：** 该位用于设置浮点运算的精度。当该位被设置为1时，FPU执行的浮点运算将使用扩展精度（80位）；当该位被清零时，FPU使用双精度（64位）精度。
			- **Bits 11-13（Reserved, 保留位）：** 在x86架构中保留，必须设置为0。
			- **Bit 14（Infinity Control, IC）：** 该位用于控制无穷大的处理。当该位为1时，FPU将处理无穷大；当该位为0时，FPU将将无穷大视为不规范的浮点数。不规范的浮点数通常用于表示溢出、下溢等情况。
			- **Bit 15（Precision Exception, PE）：** 该位用于启用或禁用浮点运算的精度异常。当该位为1时，如果发生了精度异常，将触发精度异常中断。如果该位为0，则禁用精度异常中断。
		- **FPU状态寄存器（16位）**：**寄存器fstat**，用于存储FPU运算的状态信息。这个寄存器提供了有关FPU操作的各种状态标志。
		- **FPU标签寄存器（16位）**：**寄存器fop**，是x87 FPU（浮点运算单元）中的一个标志寄存器，这个寄存器记录了最后一个FPU指令的操作码。用于标记每个FPU寄存器的状态，例如是空闲（empty）、有效（valid）、非数（NaN）等。
		- **ftag，fiseg，fioff，foseg，fooff寄存器暂不知作用。**
	- **段寄存器**：代指是每个段的基地址
		- **CS**：代码段
		- **SS**：栈段
		- **DS**：数据段
		- **ES，FS，GS**：附加段
	- **控制寄存器**：用于存储与处理器的控制和状态相关的信息
		- **CR0**：控制处理器的保护模式，分页机制等。
		- **CR2**：存储造成页故障的线性地址。
		- **CR3**：页表寄存器。存储页目录表（Page Directory Table）的基址，用于支持分页机制。
		- **CR4**：包含各种控制标志，如物理地址扩展（Physical Address Extension，PAE）和页面大小等。
	- **调试寄存器**：用于支持处理器的调试功能。这些寄存器允许软件或调试器监视特定的内存地址或者执行特定的指令。
		- **允许程序员或调试器在程序执行过程中监视特定的内存或者指令执行，这对于调试和分析程序行为非常有用。但需要注意，这些寄存器通常只能由操作系统内核或特权级别较高的程序进行配置和使用**
		- **DR0, DR1, DR2, DR3：** 这些是用于存储断点地址的调试寄存器。当处理器执行到指定的地址时，会触发中断，通常用于设置内存断点或者执行指令级别的单步调试。
		- **DR6**：这是调试寄存器的状态寄存器，用于指示触发了哪些事件（如断点触发、单步执行等）。
		- **DR7**：这是控制寄存器，用于配置调试寄存器的工作模式，比如启用或禁用断点、设置断点的长度和类型、启用或禁用单步执行等。
	- **特殊寄存器**：
		- **MSR寄存器（64位）**：用于存储处理器特定信息的寄存器，不同的处理器可能会有不同的MSR，用于配置和监视处理器的特性。
			- **特殊的MSR**：
				- **IA32_FEATURE_CONTROL MSR**：用于**控制处理器的一些特性，包括虚拟化技术（例如 VT-x，VT-d）的启用和禁用**。这个寄存器中的特定位用来控制处理器是否允许在虚拟化环境中使用这些技术。
		- **TSC寄存器（64位）**：用于存储处理器从启动开始到当前时刻的时钟周期数，可以用来进行高精度的计时和性能测量。
	- **表寄存器（系统地址寄存器）**：
		- **GDTR（48位）**：存储全局描述表(GDT)符的地址
		- **IDTR（48位）**：存储中断描述表（DTR）的地址
		- **LDTR（16位）**：存储局部描述符表（LDT）的选择子。
		- **TR（16位）**：存储当前任务的选择子	
	- **拓展指令集的额外寄存器（也可能没有额外的寄存器，具体看拓展指令集）（依据intel i5-10200H额外指令集）**：
		- **SSE寄存器**：SSE拓展指令集，能够**同时处理多个数据**，从而**加速向量化计算、多媒体处理、图形渲染、视频编解码**等任务。
			- **SSE数据寄存器（128位）**：**寄存器XMM0-15**存储浮点数，整数，或者其他128位宽的数据。
			- **SSE控制寄存器（32位）**：**寄存器MXCSR**，控制和监控x86架构的SSE（Streaming SIMD Extensions）指令集的行为，各个位用于设置SSE指令的控制参数，例如浮点数异常处理、舍入模式、并发模式等。
				-  **Bit 0-15：** 管理SSE浮点数的异常（如NaN、无穷大等）。
				- **Bit 24-25：** 管理SSE浮点数运算的舍入模式（例如，向零舍入、向下舍入等）。
				- **Bit 28-31：** 管理SSE浮点数运算的并发模式，例如控制处理器的denormals-are-zero模式（将非规格化数视为零）等。
		- **MMX寄存器**：MMX拓展指令集。有8个**64位**的**寄存器MMX0-7**一共8个寄存器，被用于执行MMX指令集中的**多媒体和整数运算**。MMX寄存器可以存储整数数据，但不能直接进行浮点数运算。
		- **AES寄存器**：AES扩展指令集，指的是**XMM6-8寄存器（和SSE数据寄存器中的XMM6-8寄存器是相同的）**，它们用于支持AES指令集中的**加密和解密**操作。
		- **AVX寄存器**：AVX拓展指令集，高性能运算的指令集。**寄存器YMM0-15（256位）**，更好地支持并行计算和处理向量化数据，因此在**科学计算、多媒体处理、游戏图形**等领域中，AVX指令集和YMM寄存器得到广泛应用。**在AVX-512指令集引入了ZMM寄存器（512位），ZMM0-31一共32个寄存器。**
		- **FMA3寄存器（是在x86-64架构引入）**：支持三个操作的指令集，包括两个乘法和一个加法操作。FMA3指令集在单条指令中执行这三个操作，通常用于提高**浮点计算的性能，特别是在科学计算、图形处理和机器学习**等需要大规模浮点运算的应用中。
			- FMA3通过AVX2引入，**支持256位的向量运算，使用YMM寄存器，FMA3指令可以在一个时钟周期内执行一个乘加乘操作。**
		- **VT-X指令集**：是Intel处理器中的虚拟化技术，允许在一个物理处理器上同时运行多个虚拟机。这些指令提供了虚拟机监视器（VMM，Virtual Machine Monitor）更好的控制虚拟机的能力。这个运用了**控制寄存器，特殊MSR寄存器和系统地址寄存器**来共同来控制虚拟化操作。
